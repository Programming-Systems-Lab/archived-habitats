package psl.habitats.services;import psl.habitats.*;import java.awt.*;import java.awt.event.*;import javax.swing.*;import java.util.Date;import java.util.Vector;import java.util.Hashtable;import java.util.Enumeration;public class AlertService implements ServiceInterface {  private static final String myDescription = "AlertService";  Habitat masterHabitat = null;  public void initialize(Habitat _h) {    masterHabitat = _h;  }  public String getDescription(){    return myDescription;  }  public String getDetailDescription(){    StringBuffer _stringBuffer = new StringBuffer();    _stringBuffer.setLength(0);    _stringBuffer.append("<html><body>");    _stringBuffer.append("<h1>" + getDescription() + "</h1>");    _stringBuffer.append("<table border=4>");    _stringBuffer.append("<tr><td>Purpose</td><td>Hit Panic Button</td></tr>");    _stringBuffer.append("<tr><td>Availablity</td><td>Selected</td></tr>");    _stringBuffer.append("<tr><td>Monitor</td><td>True</td></tr>");    _stringBuffer.append("<tr><td>Monitor-Mode</td><td>Text</td></tr>");    _stringBuffer.append("</table>");    _stringBuffer.append("</body></html>");    return _stringBuffer + "";  }  private JPanel panel;  public JPanel startDisplay() {    return (panel = new JPanel());  }  private static final String key1 = "First_Name";  private static final String key2 = "Last_Name";  private static final String key3 = "Boarding_City";  private static final String key4 = "Boarding_Date";  private static final String key5 = "Address";  private static final String key6 = "Telephone";  private static final String key7 = "SSN";  private static final String key8 = "Age";  private static final String key9 = "Image";  public Hashtable performService(String _senderService, Hashtable ipList) {    StringBuffer _stringBuffer = new StringBuffer();    _stringBuffer.setLength(0);    _stringBuffer.append("<html><body>\n");    _stringBuffer.append("<h1>" + getDescription() + "</h1>\n");    _stringBuffer.append("<table border=4>\n");    for (Enumeration e=ipList.keys(); e.hasMoreElements(); ) {      String key = e.nextElement().toString();      if (key.equals(key9)) continue;       _stringBuffer.append("<tr><td>"+key+"</td><td>"+ipList.get(key)+"</td></tr>\n");    }    _stringBuffer.append("<tr><td colspan=2><img src="+ipList.get(key9)+"></td></tr>\n");    _stringBuffer.append("</table>\n");    _stringBuffer.append("</body></html>\n");    final JLabel label = new JLabel("" + _stringBuffer);    JOptionPane.showMessageDialog(null, label, "Alert Service", JOptionPane.WARNING_MESSAGE);    /** Janak's lame attempt at getting flashing to work: either flash     * while the JOptionPane is up (Thread must start before     * showMessageDialog), or by using a JDialog with a custom border     *///     new Thread() {//       public void run() {// 	try {// 	  for(int i=0; i < 10; i++) {// 	    label.setBackground(Color.red);// 	    Thread.currentThread().sleep(500);// 	    label.setBackground(Color.black);// 	    Thread.currentThread().sleep(500);// 	  }// 	} catch(InterruptedException ie) { ; }//       }//     }.start();//     final JDialog d = new JDialog();//     d.setLayout(new BorderLayout());//     JLabel alertLabel = new JLabel("ALERT!", SwingConstants.CENTER);//     d.add(alertLabel, "North");//     d.add(label, "Center");//     JButton okButton = new JButton("OK");//     okButton.addActionListener(new ActionListener() {// 	public void actionPerformed(ActionEvent e) {// 	  d.dispose();// 	}//       });//     d.add(okButton, "South");    //     d.pack();//     d.setVisible(true);    masterHabitat.log("" + _stringBuffer);    System.out.println("JUST LOGGED: " + _stringBuffer);    return null;  }}